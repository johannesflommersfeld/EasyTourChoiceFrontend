<div class="content">
  <h1>Add your next adventure!</h1>
  <form [formGroup]="tourForm" (ngSubmit)="saveTour()">
    <div class="section-container">
      <h2 class="section-title">Tour Description</h2>
      <div class="tour-description">
        <div class="short-description">
          <!-- Activity dropdown with enum values -->
          <select formControlName="activity">
            <option [value]="Activity.UNDEFINED">Select an activity</option>
            <option [value]="Activity.HIKING">Hiking</option>
            <option [value]="Activity.TREKKING">Trekking</option>
            <option [value]="Activity.BOULDERING">Bouldering</option>
            <option [value]="Activity.SPORTCLIMBING">Sport Climbing</option>
            <option [value]="Activity.MULTIPITCHCLIMBING">Multi-pitch Climbing</option>
            <option [value]="Activity.VIA_VERRATA">Via Ferrata</option>
            <option [value]="Activity.MOUNTAINBIKING">Mountain Biking</option>
            <option [value]="Activity.ROADCYCLING">Road Cycling</option>
            <option [value]="Activity.GRAVEL">Gravel Biking</option>
            <option [value]="Activity.BIKEPACKING">Bikepacking</option>
            <option [value]="Activity.SKITOURING">Ski Touring</option>
          </select>
          <input formControlName="tourName" placeholder="Tour name">
          <input formControlName="shortDescription" placeholder="Short description">
        </div>
        <textarea formControlName="detailedDescription" placeholder="Detailed description"
          spellcheck="false"></textarea>
      </div>
    </div>

    <div class="section-container">
      <h2 class="section-title">Tour Details</h2>
      <div class="tour-details">
        <div class="input-row">
          <div class="input-column">
            <input formControlName="distance" placeholder="Distance (km)" type="number">
            <input formControlName="duration" placeholder="Duration (minutes)" type="number">
          </div>
          <div class="input-column">
            <input formControlName="elevationGain" placeholder="Elevation gain (meters)" type="number">
            <input formControlName="approachDuration" placeholder="Approach duration (minutes)" type="number">
          </div>
        </div>

        <!-- Risk slider with dynamic enum-based values -->
        <div class="slider-container">
          <span>Risk Level:</span>
          <input type="range" formControlName="risk" [min]="riskLevelMin" [max]="riskLevelMax" step="1"
            (input)="updateRiskText()">
          <span class="value-text">{{ riskLevelText }}</span>
        </div>

        <!-- Difficulty slider with dynamic enum-based values -->
        <div class="slider-container">
          <span>Difficulty:</span>
          <input type="range" formControlName="difficulty" [min]="difficultyMin" [max]="difficultyMax" step="1"
            (input)="updateDifficultyText()">
          <span class="value-text">{{ difficultyLevelText }}</span>
        </div>

        <!-- TODO: should be selectable by clicking on wind rose -->
        <input formControlName="aspects" placeholder="Aspects">
      </div>
    </div>

    <div class="section-container">
      <h2 class="section-title">GPS Information</h2>
      <div class="gps-section">
        <!-- Starting location inputs -->
        <div class="location-input">
          <h3>Starting Location</h3>
          <div class="coord-inputs">
            <input formControlName="startingLocationLat" placeholder="Latitude" type="number" step="0.000001">
            <input formControlName="startingLocationLng" placeholder="Longitude" type="number" step="0.000001">
          </div>
        </div>

        <!-- Activity location inputs -->
        <div class="location-input">
          <h3>Activity Location</h3>
          <div class="coord-inputs">
            <input formControlName="activityLocationLat" placeholder="Latitude" type="number" step="0.000001">
            <input formControlName="activityLocationLng" placeholder="Longitude" type="number" step="0.000001">
          </div>
        </div>

        <!-- GPS track upload -->
        <div class="gps-track">
          <h3>GPS Track</h3>
          <!-- TODO: Replace with actual file upload input -->
          <input formControlName="gpsTrack" placeholder="GPS track">
        </div>
      </div>
    </div>

    <div class="buttons">
      <button type="button" class="secondary" (click)="cancel()">Cancel</button>
      <button type="submit" class="primary">Save</button>
    </div>
  </form>
</div>